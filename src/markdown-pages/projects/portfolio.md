---
favorite: true
path: '/projects/portfolio'
category: 'Programming'
date: 2019-09-23
title: 'Portfolio'
featuredImage: '../../images/projects/portfolio.png'
tags: ['HTML', 'JavaScript', 'TypeScript', 'React']
excerpt: "This website, statically generated by GatsbyJS and powered by it's own implementation of GraphQL, written in React and infused with styled-components. Deployed to GitHub Pages, served from my own domain."
---

A few years back, in my first year of college, I opted for Wordpress. I had no experience with programming at all, but ended up also building my own theme. This knowledge proved useful later on. For the longest time I didn't really need my own website / domain, it was mainly required for hosting some (temporal) projects or demo's, if required.

Fast forward to 2019: this website, built with Gatsby. All the freedom I had when building my own Wordpress theme, only now in a language I like more. For example, this is the (/projects) page you just came from:

```tsx
import React from 'react'
import { graphql, StaticQuery } from 'gatsby'
import { Layout } from '../components/layout'
import { Grid } from '../components/Grid'
import { IEdge, IProjectsAllMarkdownRemark } from '../templates/interfaces'
import { ProjectCard } from '../components/ProjectCard'
import { SEO } from '../components/seo'
import { CenteredBlock } from '../components/CenteredBlock'

// tslint:disable-next-line: no-void-expression
const PAGE_QUERY: void = graphql`
  query {
    projectsData: allMarkdownRemark(
      filter: { frontmatter: { path: { regex: "/projects/" } } }
      sort: { fields: frontmatter___date, order: DESC }
    ) {
      edges {
        node {
          frontmatter {
            path
            title
            featuredVideo
            featuredImage {
              childImageSharp {
                fluid(maxWidth: 960) {
                  ...GatsbyImageSharpFluid
                }
              }
            }
            excerpt
            tags
            date
          }
          wordCount {
            words
            sentences
            paragraphs
          }
          timeToRead
          excerpt
          id
        }
      }
    }
  }
`

const ProjectsList: () => JSX.Element = (): JSX.Element => {
  return (
    <Layout>
      <SEO title="Projects" description="These are some projects I did" />
      <CenteredBlock>
        <h1>Hey! These are some of my projects</h1>
        <p>
          In chronological order, from newest to oldest. These are some projects
          I worked on that I am proud of, that taught me a lot and / or got me
          some decent grades. Not everything in here has to do with programming.
          I also included some projects I made using Adobe Illustrator and After
          Effects. The first projects were part of courses in a timeframe of
          about 10 weeks. That meant going from 0 - 100 in roughly 10 weeks,
          allocating time for other courses as well (about 4 at a time).
        </p>
      </CenteredBlock>
      <Grid
        columns={'repeat(auto-fill, minmax(32rem,1fr))'}
        maxWidth={'100rem'}
      >
        <StaticQuery
          query={PAGE_QUERY}
          render={({
            projectsData,
          }: {
            projectsData: IProjectsAllMarkdownRemark
          }): JSX.Element[] => {
            return projectsData.edges.map(
              ({ node: { frontmatter, timeToRead } }: IEdge, i: number) => (
                <ProjectCard
                  title={frontmatter.title}
                  tags={frontmatter.tags}
                  video={frontmatter.featuredVideo}
                  image={frontmatter.featuredImage}
                  key={i}
                  body={frontmatter.excerpt}
                  timeToRead={timeToRead}
                  path={frontmatter.path}
                  date={frontmatter.date}
                />
              )
            )
          }}
        />
      </Grid>
    </Layout>
  )
}

// tslint:disable-next-line: no-default-export
export default ProjectsList
```

Some stuff is hardcoded, just for the sake of simplicity. I also have to use some tslint rule overrides to surpress unintended linting errors when working with GraphQL and the default exports Gatsby requires to build pages. Posts are written in Markdown and imported using Gatsby plugins `gatsby-transformer-remark`, `gatsby-remark-images` and `gatsby-remark-sharp`.

The main downside I find using Markdown is that I can't guarantee type safety in my TypeScript files. If I were to just use JS Objects to hold post data, I'd easily be able to typedef them. When it comes to Markdown, and how Gatsby generates the GraphQL schema, it's just as unsafe as just using JavaScript. This exact post (or at least the frontmatter, the main body is set using `<main dangerouslySetInnerHTML={{ __html: html }} />`), for example, looks like this:

```md
---
path: '/projects/portfolio'
date: 2019-08-23
title: 'Portfolio'
featuredImage: '../../images/projects/portfolio.png'
tags: ['HTML', 'JavaScript', 'TypeScript', 'React']
excerpt: "This website, statically generated by GatsbyJS and powered by it's own implementation of GraphQL, written in React and infused with styled-components. Deployed to GitHub Pages, served from my own domain."
---
```

A single typo could break the import. I don't want to have to mark every frontmatter property as optional, like `{ excerpt?: string }`. The obvious upside is the ease-of-use when comparing it to complex structuring like:

```typescript
type PostType = {
  title: string
  featuredImage?: string
  featuredVideo?: string
  path: string
  tags?: string[]
  date: string
  body: (string | UrlObject | ImageObject | MarkdownObject | SomeOtherObject)[] // for example.
}
```

In this case, `body` would become an unmaintainable mess very quickly.
